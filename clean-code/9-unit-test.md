## 第9章 单元测试

- [Clean Code 目录](./index.md)

保持测试整洁。

    脏测试等同于没测试——如果不是坏于的话。
    测试是必须随生产代码的演进而修改。

测试代码和生产代码一样重要。它需要被思考、被设计和被照料。

测试带来一切好处。

正是单元测试让你的代码可扩展、可维护、可复用。

测试覆盖率越高，你就越不担心，越有信心。

整洁的测试有三个要素：可读性，可读性和可读性。

    测试可遵循以下模式：构造 - 操作 - 检验。

测试代码应当简单、精悍、足具表达力，但它该和生产代码一样有效。

有些事你大概永远不会在生产环境中做，而在测试环境中做却完全没问题。通常这关乎内存或CPU效率的问题。

单个测试中的断言数量应该最小化。

每个测试函数中只测试一个概念。

整洁的测试还有以下规则：

- Fast: 快速，测试应该够快。
- Independent: 独立，测试应该相互独立。
- Repeatable：可重复，测试应当在任何环境中重复通过。
- Self-Validating：自足验证，测试应该有布尔值输出，无论通过或失败，都不需要通过查看日志文件来确认。
- Timely：及时，测试应及时编写，在生产代码之前编写。

> 或许测试更为重要，因为它保证和增强了生产代码的可扩展性、可维护性和可复用性。
> 如果你坐视测试腐败，那么代码也会跟着腐败。保持测试整洁吧。